<!-- Scrollable Content -->
<div class="flex-1 overflow-y-auto p-8">
  <div class="max-w-5xl mx-auto w-full flex flex-col gap-6 pb-20">
    <!-- Alert Message -->
    <div
      class="flex gap-4 p-4 rounded-xl bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50"
    >
      <div class="flex items-start pt-0.5 text-orange-600 dark:text-orange-500">
        <span class="material-symbols-outlined fill">warning</span>
      </div>
      <div class="flex flex-col gap-1">
        <p class="text-orange-900 dark:text-orange-100 text-sm font-bold">Atenção Necessária</p>
        <p class="text-orange-800 dark:text-orange-200/80 text-sm">
          A quantidade de times precisa ser compatível com a estrutura definida (Grupos de 4 times).
        </p>
      </div>
    </div>
    <!-- Stats & Summary -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Stat Card 1 -->
      <div
        class="flex flex-col justify-between rounded-xl p-5 border border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-dark shadow-sm"
      >
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total de Times</p>
        <div class="flex items-end justify-between mt-2">
          <p class="text-3xl font-bold text-secondary dark:text-white">12</p>
          <span class="material-symbols-outlined text-gray-200 dark:text-gray-700 text-4xl"
            >groups</span
          >
        </div>
      </div>
      <!-- Stat Card 2 (Blue Info) -->
      <div
        class="md:col-span-2 flex flex-col justify-center rounded-xl p-5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 relative overflow-hidden group"
      >
        <!-- Decorative background icon -->
        <span
          class="material-symbols-outlined absolute -right-4 -bottom-4 text-blue-100 dark:text-blue-800/30 text-9xl pointer-events-none"
          >info</span
        >
        <div class="relative z-10 flex gap-4">
          <div class="shrink-0 text-blue-600 dark:text-blue-400 mt-1">
            <span class="material-symbols-outlined">auto_fix_high</span>
          </div>
          <div class="flex flex-col gap-1">
            <p class="text-blue-900 dark:text-blue-100 font-bold text-sm">Ajuste Automático</p>
            <p class="text-blue-800 dark:text-blue-200 text-sm leading-relaxed max-w-lg">
              Com a quantidade atual, não há necessidade de Byes (folgas) na primeira fase. Se
              adicionar mais um time, o sistema criará uma fase preliminar.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- Add Team Section -->
    <div class="flex flex-col gap-4 mt-2">
      <div class="flex items-center justify-between">
        <h3 class="text-lg font-bold text-primary dark:text-white">Adicionar Times</h3>
        <span class="text-xs text-gray-500">Mínimo: 4 times</span>
      </div>
      <div class="flex gap-3">
        <div class="relative flex-1">
          <input
            class="w-full h-12 rounded-xl border border-[#cfe7db] dark:border-[#2a4538] bg-white dark:bg-[#1a3326] px-4 pl-11 text-sm outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-[#0d1b14] dark:text-white placeholder-gray-400"
            placeholder="Digite o nome do time..."
            type="text"
          />
          <span
            class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
            >search</span
          >
        </div>
        <button
          class="bg-primary dark:bg-white text-white dark:text-[#0d1b14] h-12 px-6 rounded-xl text-sm font-bold hover:opacity-90 transition-opacity flex items-center gap-2 shadow-lg shadow-black/5"
        >
          <span class="material-symbols-outlined text-[20px]">add</span>
          Adicionar
        </button>
      </div>
    </div>
    <!-- Team Grid List -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
      @for (team of teams(); track team.name) {
        <div
          class="group flex items-center gap-4 p-3 pr-4 rounded-xl border border-[#cfe7db] dark:border-[#2a4538] bg-white dark:bg-surface-dark hover:shadow-md transition-shadow"
        >
          <div
            class="size-12 rounded-lg bg-gray-100 dark:bg-white/5 flex items-center justify-center shrink-0"
          >
            <div
              class="size-8 rounded-full bg-cover bg-center"
              [style.background-image]="'url(' + team.image + ')'"
            ></div>
          </div>
          <div class="flex flex-col flex-1 min-w-0">
            <p class="font-bold text-[#0d1b14] dark:text-white truncate">
              {{ team.name }}
            </p>
            <p class="text-xs text-gray-500 truncate">{{ team.added }}</p>
          </div>
          <button
            class="text-gray-400 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 opacity-0 group-hover:opacity-100 focus:opacity-100"
          >
            <span class="material-symbols-outlined text-[20px]">delete</span>
          </button>
        </div>
      }
    </div>
    <!-- Empty State Placeholder (Visual only, implying scrolling/more content) -->
    <div
      class="flex items-center justify-center py-8 border-t border-dashed border-[#cfe7db] dark:border-[#2a4538] mt-4"
    >
      <p class="text-sm text-gray-400 flex items-center gap-2">
        <span class="material-symbols-outlined text-lg">arrow_downward</span>
        Continue adicionando times para ver mais
      </p>
    </div>
  </div>
</div>
<!-- Footer Actions -->
<footer
  class="bg-surface-light dark:bg-surface-dark border-t border-[#e7f3ed] dark:border-[#2a4538] p-6 shrink-0 z-20"
>
  <div class="max-w-5xl mx-auto w-full flex justify-between items-center">
    <button
      type="button"
      (click)="returnToPrevious()"
      class="text-gray-600 dark:text-gray-300 font-medium text-sm hover:text-[#0d1b14] dark:hover:text-white px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5 transition-colors"
    >
      Voltar
    </button>
    <div class="flex gap-4 items-center">
      <span class="text-xs text-gray-400 hidden sm:block">Próximo passo: Revisão final</span>
      <button
        type="button"
        (click)="saveAndContinue()"
        class="bg-primary hover:bg-primary-dark text-white dark:text-[#0d1b14] px-8 py-3 rounded-xl text-sm font-bold shadow-lg shadow-primary/20 transition-all transform active:scale-95 flex items-center gap-2"
      >
        Próximo
        <span class="material-symbols-outlined text-[18px]">arrow_forward</span>
      </button>
    </div>
  </div>
</footer>
