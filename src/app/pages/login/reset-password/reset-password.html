<!-- Main Container -->
<div class="main-container">
  <!-- Left Panel: Sporty Visual -->
  <div class="hero-panel">
    <!-- Background Overlay -->
    <div class="hero-background">
      <img
        alt="Estádio de futebol iluminado à noite"
        class="hero-background-image"
        src="https://lh3.googleusercontent.com/aida-public/AB6AXuC4i4Wnl5qnXhFjVb6MyGqQRlquHysCBDlTdUumuaJJKllpbBHLeg0I9y4MPGymeVtJyJj73FtAiqdyzGDS2uLWIR0OISCW2MYTLB7D6ayCDEhKEeK6qNux_dp79dks8z7ERJkTfvPD4LC51ZP1JI3RhDYL0Jo5Ym1vGR6CYEOnqxIccVb6NIiE2aRhe27XlBLsBKspDfBRk7AoGSaovMEYTQ2wSUiAylSwVCYKVTKD5cbi03z80CHOeG9STgnnnqmQf77hhgWT_BU"
      />
      <div class="hero-overlay-gradient"></div>
      <div class="hero-overlay-gradient-secondary"></div>
    </div>

    <!-- Content -->
    <div class="hero-content">
      <!-- Logo Section -->
      <div class="flex items-center gap-3 mb-8 lg:mb-12">
        <div
          class="size-10 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg shadow-primary/20"
        >
          <span class="material-symbols-outlined text-2xl">sports_soccer</span>
        </div>
        <h1 class="text-xl font-bold tracking-tight text-white">ArenaManager</h1>
      </div>

      <!-- Hero Message -->
      <div class="hero-message">
        <div
          class="hero-message-content"
          [class.slide-change]="true"
          [attr.data-slide]="currentSlide()"
        >
          <h1 class="hero-title">{{ getCurrentMessage().title }}</h1>
          <p class="hero-description">
            {{ getCurrentMessage().description }}
          </p>
        </div>
      </div>

      <!-- Pagination Dots -->
      <div class="pagination-dots">
        @for (message of heroMessages; track $index) {
        <button
          type="button"
          class="dot"
          [class.dot-active]="currentSlide() === $index"
          (click)="goToSlide($index)"
          [attr.aria-label]="'Ir para slide ' + ($index + 1)"
        ></button>
        }
      </div>

      <!-- Footer Info -->
      <div class="hero-footer">
        <p class="footer-text">© 2025 ArenaManager. Acesso restrito a convidados.</p>
      </div>
    </div>
  </div>

  <!-- Right Panel: Form -->
  <div class="form-panel">
    <div class="form-container">
      <!-- Mobile Header Logo (Visible only on small screens) -->
      <div class="mobile-logo">
        <span class="material-symbols-outlined mobile-logo-icon">sports_soccer</span>
        <span class="mobile-logo-text">ArenaManager</span>
      </div>

      <!-- Header Section -->
      <div class="form-header">
        <h2 class="form-title">Redefinir Senha</h2>
        <p class="form-subtitle">
          Crie uma nova senha segura para recuperar o acesso à sua conta no sistema.
        </p>
      </div>

      <!-- Form Fields -->
      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="reset-form">
        <!-- Password Field -->
        <div class="input-group">
          <label class="input-label" for="password">Nova senha</label>
          <div class="input-wrapper">
            <input
              class="form-input"
              id="password"
              [type]="showPassword() ? 'text' : 'password'"
              formControlName="password"
              placeholder="Insira sua nova senha"
              (input)="onPasswordChange($any($event.target).value)"
            />
            <button
              type="button"
              class="toggle-password"
              (click)="togglePasswordVisibility()"
              tabindex="-1"
            >
              <span class="material-symbols-outlined">
                {{ showPassword() ? 'visibility' : 'visibility_off' }}
              </span>
            </button>
          </div>
          <!-- Password Strength Indicator -->
          <div class="password-strength-bar">
            <div class="strength-segment" [class.active]="passwordStrength().level >= 1"></div>
            <div class="strength-segment" [class.active]="passwordStrength().level >= 2"></div>
            <div class="strength-segment" [class.active]="passwordStrength().level >= 3"></div>
            <div class="strength-segment" [class.active]="passwordStrength().level >= 4"></div>
          </div>
          <p class="password-strength-text">Força da senha: {{ getPasswordStrengthText() }}</p>
        </div>

        <!-- Confirm Password Field -->
        <div class="input-group">
          <label class="input-label" for="confirmPassword">Confirmar nova senha</label>
          <div class="input-wrapper">
            <input
              class="form-input"
              id="confirmPassword"
              [type]="showConfirmPassword() ? 'text' : 'password'"
              formControlName="confirmPassword"
              placeholder="Repita a nova senha"
              (input)="onConfirmPasswordChange($any($event.target).value)"
            />
            <button
              type="button"
              class="toggle-password"
              (click)="toggleConfirmPasswordVisibility()"
              tabindex="-1"
            >
              <span class="material-symbols-outlined">
                {{ showConfirmPassword() ? 'visibility' : 'visibility_off' }}
              </span>
            </button>
          </div>
        </div>

        <!-- Validation Checklist -->
        <div class="validation-checklist">
          <p class="checklist-title">Sua senha deve conter:</p>
          <ul class="checklist-items">
            <li class="checklist-item" [class.valid]="hasMinLength()">
              <span class="material-symbols-outlined checklist-icon">
                {{ hasMinLength() ? 'check_circle' : 'radio_button_unchecked' }}
              </span>
              Mínimo de 8 caracteres
            </li>
            <li class="checklist-item" [class.valid]="hasUppercase()">
              <span class="material-symbols-outlined checklist-icon">
                {{ hasUppercase() ? 'check_circle' : 'radio_button_unchecked' }}
              </span>
              Uma letra maiúscula
            </li>
            <li class="checklist-item" [class.valid]="hasNumberOrSymbol()">
              <span class="material-symbols-outlined checklist-icon">
                {{ hasNumberOrSymbol() ? 'check_circle' : 'radio_button_unchecked' }}
              </span>
              Um número ou símbolo especial
            </li>
          </ul>
        </div>

        <!-- Action Button -->
        <button class="submit-button" type="submit" [disabled]="!isFormValid()">
          <span>Redefinir senha</span>
        </button>
      </form>

      <!-- Back Link -->
      <div class="back-link-container">
        <a class="back-link" routerLink="/login">
          <span class="material-symbols-outlined back-link-icon">arrow_back</span>
          Voltar ao login
        </a>
      </div>
    </div>
  </div>
</div>
